<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Orthanc Plugin SDK: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OrthancLogoDocumentation.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Orthanc Plugin SDK
   &#160;<span id="projectnumber">mainline</span>
   </div>
   <div id="projectbrief">Documentation of the plugin interface of Orthanc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Orthanc Plugin SDK Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This C/C++ SDK allows external developers to create plugins that can be loaded into Orthanc to extend its functionality. Each Orthanc plugin must expose 4 public functions with the following signatures:</p>
<ol type="1">
<li><code>int32_t OrthancPluginInitialize(const OrthancPluginContext* context)</code>: This function is invoked by Orthanc when it loads the plugin on startup. The plugin must:<ul>
<li>Check its compatibility with the Orthanc version using <a class="el" href="group__Callbacks.html#ga69b21c0968d731a3c85a46d82ad2f470" title="Check the compatibility of the plugin wrt. the version of its hosting Orthanc.">OrthancPluginCheckVersion()</a>.</li>
<li>Store the context pointer so that it can use the plugin services of Orthanc.</li>
<li>Register all its REST callbacks using <a class="el" href="group__Callbacks.html#ga56dc0abd631bc93cb8e8ee7adea513b6" title="Register a REST callback.">OrthancPluginRegisterRestCallback()</a>.</li>
<li>Possibly register its callback for received DICOM instances using <a class="el" href="group__Callbacks.html#ga1af7c8c9877aaf670208bfc53164b9fb" title="Register a callback for received instances.">OrthancPluginRegisterOnStoredInstanceCallback()</a>.</li>
<li>Possibly register its callback for changes to the DICOM store using <a class="el" href="group__Callbacks.html#ga78140887a94f1afb067a15db5ee4099c" title="Register a callback to monitor changes.">OrthancPluginRegisterOnChangeCallback()</a>.</li>
<li>Possibly register a custom storage area using <a class="el" href="group__Callbacks.html#ga801b92161b0bfbfa6a3dd8862b09036a" title="Register a custom storage area, with support for range request.">OrthancPluginRegisterStorageArea2()</a>.</li>
<li>Possibly register a custom database back-end area using <a class="el" href="group__Callbacks.html#ga0387d2486d574401b61e90cf3adb142c" title="Register a custom database back-end.">OrthancPluginRegisterDatabaseBackendV4()</a>.</li>
<li>Possibly register a handler for C-Find SCP using <a class="el" href="group__DicomCallbacks.html#ga42ea14ecf712872c2c953219a1526a46" title="Register a callback to handle C-Find requests.">OrthancPluginRegisterFindCallback()</a>.</li>
<li>Possibly register a handler for C-Find SCP against DICOM worklists using <a class="el" href="group__DicomCallbacks.html#gaa5a8821d2c8344d60bfc795e9821a241" title="Register a callback to handle modality worklists requests.">OrthancPluginRegisterWorklistCallback()</a>.</li>
<li>Possibly register a handler for C-Move SCP using <a class="el" href="group__DicomCallbacks.html#ga2e9d921421fb9e4687017fb7d1f599c1" title="Register a callback to handle C-Move requests.">OrthancPluginRegisterMoveCallback()</a>.</li>
<li>Possibly register a custom decoder for DICOM images using <a class="el" href="group__Callbacks.html#ga1edbf3badce1077ce627f4794051e211" title="Register a callback to handle the decoding of DICOM images.">OrthancPluginRegisterDecodeImageCallback()</a>.</li>
<li>Possibly register a callback to filter incoming HTTP requests using <a class="el" href="group__Callbacks.html#ga49e34b40e43b222031540ea305246e3f" title="Register a callback to filter incoming HTTP requests.">OrthancPluginRegisterIncomingHttpRequestFilter2()</a>.</li>
<li>Possibly register a callback to unserialize jobs using <a class="el" href="group__Callbacks.html#gae38d30f620161dacfecc364ae2882565" title="Register an unserializer for custom jobs.">OrthancPluginRegisterJobsUnserializer()</a>.</li>
<li>Possibly register a callback to refresh its metrics using <a class="el" href="group__Callbacks.html#ga2bdc35040498bdb693c7d2e584b57140" title="Register a callback to refresh the metrics.">OrthancPluginRegisterRefreshMetricsCallback()</a>.</li>
<li>Possibly register a callback to answer chunked HTTP transfers using <a class="el" href="group__Callbacks.html#gaf8f27a131282c5452bdcd3035633bd95" title="Register a REST callback to handle chunked HTTP transfers.">OrthancPluginRegisterChunkedRestCallback()</a>.</li>
<li>Possibly register a callback for Storage Commitment SCP using <a class="el" href="group__DicomCallbacks.html#ga86bf2a20f48e22c74bc18d589e51bb02" title="Register a callback to handle incoming requests to the storage commitment SCP.">OrthancPluginRegisterStorageCommitmentScpCallback()</a>.</li>
<li>Possibly register a callback to keep/discard/modify incoming DICOM instances using <a class="el" href="group__Callbacks.html#ga653c4d213d389f3744fcb852886ddf9b" title="Register a callback to keep/discard/modify a DICOM instance received by Orthanc from any source (C-ST...">OrthancPluginRegisterReceivedInstanceCallback()</a>.</li>
<li>Possibly register a custom transcoder for DICOM images using <a class="el" href="group__Callbacks.html#ga98e0467b904dfaa1f6a8ac98f61378ab" title="Register a callback to handle the transcoding of DICOM images.">OrthancPluginRegisterTranscoderCallback()</a>.</li>
<li>Possibly register a callback to discard instances received through DICOM C-STORE using <a class="el" href="group__Callbacks.html#ga244d0620a10e2899543c8736f2ae5ff2" title="Register a callback to filter incoming DICOM instances received by Orthanc through C-STORE.">OrthancPluginRegisterIncomingCStoreInstanceFilter()</a>.</li>
<li>Possibly register a callback to branch a WebDAV virtual filesystem using <a class="el" href="group__Callbacks.html#ga86e556f12e7ffaec0b23b7b61d38dfe1" title="Register a WebDAV virtual filesystem.">OrthancPluginRegisterWebDavCollection()</a>.</li>
</ul>
</li>
<li><code>void OrthancPluginFinalize()</code>: This function is invoked by Orthanc during its shutdown. The plugin must free all its memory.</li>
<li><code>const char* OrthancPluginGetName()</code>: The plugin must return a short string to identify itself.</li>
<li><code>const char* OrthancPluginGetVersion()</code>: The plugin must return a string containing its version number.</li>
</ol>
<p>The name and the version of a plugin is only used to prevent it from being loaded twice. Note that, in C++, it is mandatory to declare these functions within an <code>extern "C"</code> section.</p>
<p>To ensure multi-threading safety, the various REST callbacks are guaranteed to be executed in mutual exclusion since Orthanc 0.8.5. If this feature is undesired (notably when developing high-performance plugins handling simultaneous requests), use <a class="el" href="group__Callbacks.html#gaeeafc57b368f95ecd9a788abe064361f" title="Register a REST callback, without locking.">OrthancPluginRegisterRestCallbackNoLock()</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
